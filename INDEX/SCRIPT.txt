USE [master]
--GO

IF NOT EXISTS(SELECT * FROM sys.databases WHERE name = 'Performance')
BEGIN
	CREATE DATABASE [Performance]
	END

	GO
		USE [Performance]
	GO
IF NOT EXISTS (SELECT * FROM sysobjects WHERE name = 'Random')
BEGIN
	CREATE TABLE Random (
		id int primary key not null,
		random_number int not null,
		check (random_number < 10000)
	)
END


-- table containing the amount of instances of a random number
create table Instance (
random_number varchar(8) primary key not null,
amount int not null
);

insert into Instance
values (
	'[1]', (select count(id) from [1]
	))

select * from Instance

-- creates view for a random number
create view [1] as
select * from random
where random_number = 1;

select * from [1]
order by id;

select count(id) as Rows from [4711]


select * from Random

select * from instance where random_number = [2]
select * from [2]
order by random_number;

select top 1 * from instance
order by amount desc

select * from [9999]
